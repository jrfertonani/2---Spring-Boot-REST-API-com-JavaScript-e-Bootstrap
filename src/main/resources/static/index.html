<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>

<h3>Spring Boot restApi</h3>
<form class="row g-3 needs-validation" novalidate>
    <div class="col-md-4">
        <label for="id" class="form-label">ID</label>
        <input type="text" class="form-control" id="id" readonly="readonly">
    </div>
    <div class="col-md-4">
        <label for="nome" class="form-label">NOME</label>
        <input type="text" class="form-control" id="nome" value="" required>
    </div>
    <div class="col-md-4">
        <label for="idade" class="form-label">IDADE</label>
        <input type="text" class="form-control" id="idade" value="" required>
    </div>


    <div class="col-10">
        <button class="btn btn-primary" type="submit" onclick="salvarUsuario()">Salvar</button>
    </div>
</form>



<script type="text/javascript">

    function salvarUsuario(){
        var id = $("#id").val();
        var nome = $("#nome").val();
        var idade = $("#idade").val();

    if (nome == "" || idade == "") {
        alert("Por favor, preencha o nome e a idade.");
        return;
    }


    $.ajax({
        method: "POST",
        url: "salvar",                           // Verifique se o seu @PostMapping no Java Ã© este
        data: JSON.stringify({
            id: id,                             //lado esquerdo vem do DB : TELA - direito
            nome: nome,
            idade: idade
        }),
        contentType: "application/json; charset=utf-8",
        success: function (response) {
            $("#id").val(response.id);          // Se o banco gerar o ID, ele volta aqui
            alert("Salvo com sucesso!");
        },
        error: function (xhr, status, error) {
            alert("Erro ao salvar: " + xhr.responseText);
        }
    });

    }

</script>







<script
        src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>